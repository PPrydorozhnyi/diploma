<div class="container-fluid">
  <div>
    <div *ngIf="project" class="container-fluid justify-content-center">

      <div class="d-flex justify-content-between flex-wrap align-items-center offset-2">
        <h2>Dashboard for {{project.name}}</h2>
      </div>

      <div class="row">

        <div class="col-2">
          <app-sidebar [states]="state" [projectId]="projectId"></app-sidebar>
        </div>

        <div class="col-5">

          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Tickets on
                users statistic<i (click)="updateUserStatistic()" class="refresh-icon"></i></h5>
              <div class="chart">
                <canvas baseChart
                        [data]="pieChartData"
                        [labels]="pieChartLabels"
                        [chartType]="pieChartType"
                        [options]="pieChartOptions"
                        [plugins]="pieChartPlugins"
                        [colors]="pieChartColors"
                        [legend]="pieChartLegend">
                </canvas>
              </div>
            </div>
          </div>
          <div class="card-footer text-muted">
            Last updated {{lastUpdatedPie | date:'mediumTime'}}
          </div>
        </div>
        <div class="col-5">

          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Open ticket statistic
                <i (click)="updateTicketTypeStatistic()" class="refresh-icon"></i></h5>
              <div class="chart">
                <canvas baseChart
                        [datasets]="radarChartData"
                        [options]="radarChartOptions"
                        [labels]="radarChartLabels"
                        [colors]="radarChartColors"
                        [chartType]="radarChartType">
                </canvas>
              </div>
            </div>
          </div>
          <div class="card-footer text-muted">
            Last updated {{lastUpdatedRadar | date:'mediumTime'}}
          </div>
        </div>
      </div>
      <div class="row">


        <div class="col-10 offset-2">

          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Open/Closed
                defects statistic<i (click)="updateDefectsStatistic()" class="refresh-icon"></i></h5>
              <div class="chart" style="display: block;">
                <canvas baseChart width="400" height="100"
                        [datasets]="lineChartData"
                        [labels]="lineChartLabels"
                        [options]="lineChartOptions"
                        [colors]="lineChartColors"
                        [legend]="lineChartLegend"
                        [chartType]="lineChartType"
                        [plugins]="lineChartPlugins"></canvas>
              </div>
            </div>
          </div>
          <div class="card-footer text-muted">
            Last updated {{lastUpdatedLinear | date:'mediumTime'}}
          </div>
        </div>
      </div>
      <div class="row" *ngIf="runs">


        <div class="col-10 offset-2">

          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Ticket Runs
                <i (click)="updateRuns()"  class="refresh-icon"></i></h5>
              <div class="form-group">
                <label for="series">Series:</label>
                <select [(ngModel)]="seriesId" class="form-control" id="series" name="series">
                  <option *ngFor="let typ of series" value="{{typ}}">{{typ}}</option>
                </select>
              </div>
              <div class="sizeee">
                <gstc [config]="config"></gstc>
              </div>
            </div>
          </div>
          <div class="card-footer text-muted">
            Last updated {{lastUpdatedGantt | date:'mediumTime'}}
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
